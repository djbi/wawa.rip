<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coin Flip with IP Clicker</title>
    <style>
        body {
            background-color: black;
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }
        #container {
            text-align: center;
            position: relative;
            width: 100%;
            height: 100%;
        }
        #ip-display {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2em;
            cursor: default;
        }
        .digit {
            display: inline-block;
            text-shadow: 0 0 5px currentColor, 0 0 10px currentColor;
            animation: glow 1.5s infinite alternate;
        }
        #coin {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background-color: gold;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            cursor: pointer;
        }
        #visit-counter {
            color: white;
            font-size: 1em;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            cursor: pointer;
        }
        #eye-icon {
            width: 16px;
            height: 16px;
        }
        #count {
            color: #FF69B4;
            text-shadow: 0 0 5px #FF69B4;
            animation: counterGlow 2s infinite alternate;
        }
        #clicker-game {
            display: none;
            color: white;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }
        #clicker-ip {
            font-size: 2em;
            cursor: pointer;
            margin-bottom: 20px;
        }
        #clicker-score {
            font-size: 1.5em;
            margin-bottom: 20px;
        }
        .upgrade-btn {
            background-color: #333;
            color: white;
            border: none;
            padding: 10px;
            margin: 5px;
            cursor: pointer;
        }
        @keyframes glow {
            from { text-shadow: 0 0 5px currentColor, 0 0 10px currentColor; }
            to { text-shadow: 0 0 10px currentColor, 0 0 20px currentColor; }
        }
        @keyframes counterGlow {
            from { color: #FF69B4; text-shadow: 0 0 5px #FF69B4, 0 0 10px #FF69B4; }
            to { color: #9400D3; text-shadow: 0 0 5px #9400D3, 0 0 10px #9400D3; }
        }
        @keyframes flash {
            0% { background-color: black; }
            50% { background-color: white; }
            100% { background-color: black; }
        }
        #creepy-image {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 80%;
            max-height: 80%;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="ip-display">Loading your IP...</div>
        <div id="coin">Flip Me</div>
        <div id="visit-counter">
            <svg id="eye-icon" viewBox="0 0 24 24" fill="white">
                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
            </svg>
            <span id="count">567</span>
        </div>
        <div id="clicker-game">
            <div id="clicker-ip">Click Me</div>
            <div id="clicker-score">Score: 0</div>
            <button class="upgrade-btn" id="upgrade-click">Upgrade Click (Cost: 10)</button>
            <button class="upgrade-btn" id="upgrade-auto">Auto Clicker (Cost: 50)</button>
        </div>
        <img id="creepy-image" src="https://th.bing.com/th/id/R.782d96615b2c2a6ed8520457e7fdb641?rik=2RIXD3DU8hJ0WA&pid=ImgRaw&r=0" alt="Creepy Image">
        <audio id="scream-audio" src="scream.mp3"></audio>
    </div>

    <script>
        const container = document.getElementById('container');
        const ipDisplay = document.getElementById('ip-display');
        const coin = document.getElementById('coin');
        const visitCounter = document.getElementById('visit-counter');
        const creepyImage = document.getElementById('creepy-image');
        const screamAudio = document.getElementById('scream-audio');
        const clickerGame = document.getElementById('clicker-game');
        const clickerIp = document.getElementById('clicker-ip');
        const clickerScore = document.getElementById('clicker-score');
        const upgradeClickBtn = document.getElementById('upgrade-click');
        const upgradeAutoBtn = document.getElementById('upgrade-auto');

        // Neon colors
        const colors = [
            '#FF00FF', '#00FFFF', '#FF00AA', '#00FF00',
            '#FFFF00', '#FF6600', '#FF0099', '#00CCFF',
            '#FF3366', '#33FF33', '#FFCC00', '#FF0066'
        ];

        function getRandomColor(excludeColors = []) {
            const availableColors = colors.filter(c => !excludeColors.includes(c));
            return availableColors[Math.floor(Math.random() * availableColors.length)];
        }

        function displayIP(ip) {
            ipDisplay.innerHTML = '';
            const chars = ip.split('');
            let usedColors = [];
            chars.forEach(char => {
                const span = document.createElement('span');
                span.className = 'digit';
                span.textContent = char;
                const color = getRandomColor(usedColors);
                span.style.color = color;
                usedColors.push(color);
                ipDisplay.appendChild(span);
            });
            setInterval(() => {
                usedColors = [];
                ipDisplay.childNodes.forEach(span => {
                    const color = getRandomColor(usedColors);
                    span.style.color = color;
                    usedColors.push(color);
                });
            }, 300);
        }

        function updateVisitCount() {
            let count = localStorage.getItem('visitCount');
            if (!count) count = 567;
            else count = parseInt(count) + 1;
            localStorage.setItem('visitCount', count);
            document.getElementById('count').textContent = count;
            return count;
        }

        function gameOver() {
            coin.style.display = 'none';
            document.body.style.animation = 'flash 0.2s 10';
            screamAudio.play();
            setTimeout(() => {
                document.body.style.animation = '';
                creepyImage.style.display = 'block';
            }, 2000);
        }

        // Coin flip
        coin.addEventListener('click', () => {
            const result = Math.random() < 0.5 ? 'Heads' : 'Tails';
            coin.textContent = result;
            setTimeout(gameOver, 1000); // Jump scare after 1 second
        });

        // Clicker game
        let score = 0;
        let clickValue = 1;
        let autoClickValue = 0;

        function updateScore() {
            clickerScore.textContent = `Score: ${score}`;
            upgradeClickBtn.textContent = `Upgrade Click (Cost: ${clickValue * 10})`;
            upgradeAutoBtn.textContent = `Auto Clicker (Cost: ${autoClickValue * 50 + 50})`;
        }

        visitCounter.addEventListener('click', () => {
            const visitCount = parseInt(document.getElementById('count').textContent);
            let clicks = 0;
            const clickHandler = () => {
                clicks++;
                if (clicks === visitCount) {
                    coin.style.display = 'none';
                    visitCounter.style.display = 'none';
                    clickerGame.style.display = 'block';
                    displayIP(ipDisplay.textContent); // Reuse IP for clicker
                    visitCounter.removeEventListener('click', clickHandler);
                }
            };
            visitCounter.addEventListener('click', clickHandler);
        });

        clickerIp.addEventListener('click', () => {
            score += clickValue;
            updateScore();
        });

        upgradeClickBtn.addEventListener('click', () => {
            const cost = clickValue * 10;
            if (score >= cost) {
                score -= cost;
                clickValue++;
                updateScore();
            }
        });

        upgradeAutoBtn.addEventListener('click', () => {
            const cost = autoClickValue * 50 + 50;
            if (score >= cost) {
                score -= cost;
                autoClickValue++;
                if (autoClickValue === 1) {
                    setInterval(() => {
                        score += autoClickValue;
                        updateScore();
                    }, 1000);
                }
                updateScore();
            }
        });

        // Initial setup
        fetch('https://api.ipify.org?format=json')
            .then(response => response.json())
            .then(data => {
                displayIP(data.ip);
                updateVisitCount();
            })
            .catch(error => {
                console.error('Error:', error);
                displayIP('0.0.0.0');
                updateVisitCount();
            });
    </script>
</body>
</html>
